{% extends 'base.html' %}
{% block title %}Profile{% endblock %}
{% block content %}
<head>
    <script type="text/javascript" src="/static/jquery-3.6.3.js"></script>
</head>
<script>
    var js_task_id = 0 ;
    var js_task_items_num = 0;
    var js_items_answer = new Array();
    var js_items_answer_x1 = new Array();
    var js_items_answer_y1 = new Array();
    var js_items_answer_x2 = new Array();
    var js_items_answer_y2 = new Array();
    var js_task_type = 0;
    $().ready(function(){
        $(".task-quest").hide();
        $(".hidden").hide()
        $(".task-quest#1").show();
        js_task_id = $("#js-task-id").text;
        js_task_items_num = $("#js-task-item-num").text;
        js_task_type = $("js-task-type").text;
        $(".page-item .page-link").click(function(){
            console.log(this.text)
            var id_num = this.text;
            $(".task-quest").hide();
            var str = ".task-quest#"+String(id_num);
            var task_quest = $(str);
            // console.log(task_quest["id"])
            task_quest.show();
            // if(id_num == task_quest.id)
        })
    })
</script>
<nav class="navbar navbar-expand-lg navbar-light justify-content-between sticky-top" style="background: linear-gradient(to right,thistle,cornsilk,#e3f2fd);">
    <a class="navbar-brand" style="font-family: '幼圆';font-weight: 500;font-size: xx-large;">米诺众包</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="../..">主页</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../../list/">任务中心</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../../upload/">创建任务</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">帮助</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">反馈</a>
            </li>
        </ul>
        <ul class="navbar-nav  justify-content-end">
            <li class="nav-item"><img src="/media_url/necoru.jpg" class="mx-auto" alt="diluc" style=" 
                height: 34px;
                display: flex;
                border-radius: 50%;
                align-items: center;
                justify-content: center;
                overflow: hidden;"></li>
            <li class="nav-item">
                <a class="nav-link" href="../../profile/">{{ user.username }}</a>
            </li>  
            <li class="nav-item">
                <a class="nav-link" href="../../signup/">注册</a>
            </li>
        </ul>
    </div>
</nav>
<div>
    <a class="hidden" id="js-task-id">{{task_id}}</a>
    <a class="hidden" id="js-task-item-num">{{task_item_num}}</a>
    <a class="hidden" id="js-task-type">{{task_type}}</a>
    <h1>{{taskname}}</h1>
    <p>{{task_description}}</p>
    <nav aria-label="Page navigation example">
        <ul class="pagination">
          <!-- <li class="page-item">
            <a class="page-link" href="#" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li> -->
          {% for i in task_item_range %}
          <li class="page-item"><a class="page-link">{{i}}</a></li>
          <!-- <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">3</a></li>
          <li class="page-item"> -->
            {% endfor %}
            <!-- <a class="page-link" href="#" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a> -->
          </li>
        </ul>
      </nav>
    
    {% for quest in quests %}
    <div class="task-quest" id="{{quest.quest_id}}">
        <div class="task-quest-NO">{{quest.quest_id}}</div>
        <p class = "task-quest-description">{{quest.quest_text}}</p>
        <img class="img-fluid" src="{{quest.copy_path.0}}" style="width: 120px; height:auto;">
        <!-- <div class="task-source">{{quest.quest_pics_path_list.0}}</div> -->
        {% for quest_option in quest.option_list %}
        <div class="custom-control custom-radio">
            <input type="radio" id="{{quest.quest_id}}+{{quest_option}}" name="{{quest.quest_id}}" class="custom-control-input" value="{{quest.quest_id}},{{quest_option}}">
            <label class="custom-control-label" for="{{quest.quest_id}}+{{quest_option}}">{{quest_option}}</label>
        </div>
        <!-- <div><input type="radio" class="task-item" id="0" name = "quest_option" value = "{{quest_option}}">{{quest_option}}</input></div> -->
        {% endfor %}
        
    </div>
    {% endfor %}
    <form class="form-horizontal" method="POST" enctype="multipart/form-data" style = "padding-top:20px;margin-left:39px;">
        {% csrf_token %}
        <div class="form-group">
            <label for="exampleFormControlInput1">task file</label>
            <input type="file" class="form-control" id="taskfile" name="taskfile">
        </div>
        <div class="form-group" style="padding-top:15px;margin-left:3px;margin-right:42px;">
            <button class="btn btn-primary btn-block"type="submit" value="submit" style="border-radius: 30px;height:50px;display: block;margin-right:30px;">提交任务</button>
        </div>
    </form>
    <a href="../../task_upload_finish/{{req_id}}/"><button class="btn btn-primary btn-block"type="submit" value="submit" style="border-radius: 30px;height:50px;display: block;margin-right:30px;">结束任务</button></a>
</div>

{% endblock %}